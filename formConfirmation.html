<!DOCTYPE html>
<html>
    <head>
        <title>Canceling Default Behavior</title>
        <script>
            
            function checkform() {
                document.getElementById("form1").onsubmit = function() {
                    var allowSubmit = true;
                    function bothAlert () {
                        alert("Both fields need to be filled");
                        allowSubmit = false;
                    }
                    function phoneAlert () {
                        alert("Phone field cannot be blank");
                        allowSubmit = false;
                    }
                    function nameAlert () {
                        alert("Name field cannot be blank");
                        allowSubmit = false;
                    }


                    if(document.getElementById("user").value == "" && document.getElementById("phone").value == "") {
                        bothAlert();
                    } else if(document.getElementById("user").value == ""){
                        nameAlert();
                    } else if(document.getElementById("phone").value == ""){
                        phoneAlert();
                    }
                    if(allowSubmit) alert("Data OK - submitting form");
                    return allowSubmit;
                }
            }
            window.onload = checkform;
        </script>
    </head>
    <body>
        <form id="form1">
            Name: <input type= "text" value="" name= "username" id="user" /> [Required field]<br/>
            Phone: <input type= "text" value="" name="telephone" id="phone" /> [Optional field] <br/>
            <input type="submit"/>
        </form>
    </body>
</html>